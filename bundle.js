(()=>{var t={10:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var s=n(537),i=n.n(s),r=n(645),a=n.n(r)()(i());a.push([t.id,".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n","",{version:3,sources:["webpack://./src/framework/view/abstract-view.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE;;IAEE,wBAAwB;EAC1B;;EAEA;;;;;IAKE,2BAA2B;EAC7B;;EAEA;;;;IAIE,0BAA0B;EAC5B;AACF",sourcesContent:[".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n"],sourceRoot:""}]);const o=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var m=[].concat(t[c]);s&&a[m[0]]||(void 0!==r&&(void 0===m[5]||(m[1]="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {").concat(m[1],"}")),m[5]=r),n&&(m[2]?(m[1]="@media ".concat(m[2]," {").concat(m[1],"}"),m[2]=n):m[2]=n),i&&(m[4]?(m[1]="@supports (".concat(m[4],") {").concat(m[1],"}"),m[4]=i):m[4]="".concat(i)),e.push(m))}},e}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),r="/*# ".concat(i," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([r]).join("\n")}return[e].join("\n")}},484:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",s="second",i="minute",r="hour",a="day",o="week",l="month",c="quarter",m="year",u="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(t,e,n){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(n)+t},v={s:_,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),s=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+_(s,2,"0")+":"+_(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var s=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(s,l),r=n-i<0,a=e.clone().add(s+(r?-1:1),l);return+(-(s+(n-i)/(r?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:m,w:o,d:a,D:u,h:r,m:i,s,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",$={};$[g]=p;var y=function(t){return t instanceof C},b=function t(e,n,s){var i;if(!e)return g;if("string"==typeof e){var r=e.toLowerCase();$[r]&&(i=r),n&&($[r]=n,i=r);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var o=e.name;$[o]=e,i=o}return!s&&i&&(g=i),i||!s&&g},w=function(t,e){if(y(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new C(n)},M=v;M.l=b,M.i=y,M.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var C=function(){function p(t){this.$L=b(t.locale,null,!0),this.parse(t)}var _=p.prototype;return _.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(f);if(s){var i=s[2]-1||0,r=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},_.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},_.$utils=function(){return M},_.isValid=function(){return!(this.$d.toString()===d)},_.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},_.isAfter=function(t,e){return w(t)<this.startOf(e)},_.isBefore=function(t,e){return this.endOf(e)<w(t)},_.$g=function(t,e,n){return M.u(t)?this[e]:this.set(n,t)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(t,e){var n=this,c=!!M.u(e)||e,d=M.p(t),f=function(t,e){var s=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?s:s.endOf(a)},h=function(t,e){return M.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},p=this.$W,_=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case m:return c?f(1,0):f(31,11);case l:return c?f(1,_):f(0,_+1);case o:var $=this.$locale().weekStart||0,y=(p<$?p+7:p)-$;return f(c?v-y:v+(6-y),_);case a:case u:return h(g+"Hours",0);case r:return h(g+"Minutes",1);case i:return h(g+"Seconds",2);case s:return h(g+"Milliseconds",3);default:return this.clone()}},_.endOf=function(t){return this.startOf(t,!1)},_.$set=function(t,e){var o,c=M.p(t),d="set"+(this.$u?"UTC":""),f=(o={},o[a]=d+"Date",o[u]=d+"Date",o[l]=d+"Month",o[m]=d+"FullYear",o[r]=d+"Hours",o[i]=d+"Minutes",o[s]=d+"Seconds",o[n]=d+"Milliseconds",o)[c],h=c===a?this.$D+(e-this.$W):e;if(c===l||c===m){var p=this.clone().set(u,1);p.$d[f](h),p.init(),this.$d=p.set(u,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},_.set=function(t,e){return this.clone().$set(t,e)},_.get=function(t){return this[M.p(t)]()},_.add=function(n,c){var u,d=this;n=Number(n);var f=M.p(c),h=function(t){var e=w(d);return M.w(e.date(e.date()+Math.round(t*n)),d)};if(f===l)return this.set(l,this.$M+n);if(f===m)return this.set(m,this.$y+n);if(f===a)return h(1);if(f===o)return h(7);var p=(u={},u[i]=t,u[r]=e,u[s]=1e3,u)[f]||1,_=this.$d.getTime()+n*p;return M.w(_,this)},_.subtract=function(t,e){return this.add(-1*t,e)},_.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var s=t||"YYYY-MM-DDTHH:mm:ssZ",i=M.z(this),r=this.$H,a=this.$m,o=this.$M,l=n.weekdays,c=n.months,m=function(t,n,i,r){return t&&(t[n]||t(e,s))||i[n].slice(0,r)},u=function(t){return M.s(r%12||12,t,"0")},f=n.meridiem||function(t,e,n){var s=t<12?"AM":"PM";return n?s.toLowerCase():s},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:M.s(o+1,2,"0"),MMM:m(n.monthsShort,o,c,3),MMMM:m(c,o),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:m(n.weekdaysMin,this.$W,l,2),ddd:m(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:M.s(r,2,"0"),h:u(1),hh:u(2),a:f(r,a,!0),A:f(r,a,!1),m:String(a),mm:M.s(a,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:i};return s.replace(h,(function(t,e){return e||p[t]||i.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(n,u,d){var f,h=M.p(u),p=w(n),_=(p.utcOffset()-this.utcOffset())*t,v=this-p,g=M.m(this,p);return g=(f={},f[m]=g/12,f[l]=g,f[c]=g/3,f[o]=(v-_)/6048e5,f[a]=(v-_)/864e5,f[r]=v/e,f[i]=v/t,f[s]=v/1e3,f)[h]||v,d?g:M.a(g)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return $[this.$L]},_.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),s=b(t,e,!0);return s&&(n.$L=s),n},_.clone=function(){return M.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},p}(),S=C.prototype;return w.prototype=S,[["$ms",n],["$s",s],["$m",i],["$H",r],["$W",a],["$M",l],["$y",m],["$D",u]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,C,w),t.$i=!0),w},w.locale=b,w.isDayjs=y,w.unix=function(t){return w(1e3*t)},w.en=$[g],w.Ls=$,w.p={},w}()},646:function(t){t.exports=function(){"use strict";var t,e,n=1e3,s=6e4,i=36e5,r=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,l=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,m={years:o,months:l,days:r,hours:i,minutes:s,seconds:n,milliseconds:1,weeks:6048e5},u=function(t){return t instanceof g},d=function(t,e,n){return new g(t,n,e.$l)},f=function(t){return e.p(t)+"s"},h=function(t){return t<0},p=function(t){return h(t)?Math.ceil(t):Math.floor(t)},_=function(t){return Math.abs(t)},v=function(t,e){return t?h(t)?{negative:!0,format:""+_(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},g=function(){function h(t,e,n){var s=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return d(t*m[f(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(e){s.$d[f(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var i=t.match(c);if(i){var r=i.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var _=h.prototype;return _.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(e,n){return e+(t.$d[n]||0)*m[n]}),0)},_.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=p(t/o),t%=o,this.$d.months=p(t/l),t%=l,this.$d.days=p(t/r),t%=r,this.$d.hours=p(t/i),t%=i,this.$d.minutes=p(t/s),t%=s,this.$d.seconds=p(t/n),t%=n,this.$d.milliseconds=t},_.toISOString=function(){var t=v(this.$d.years,"Y"),e=v(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var s=v(n,"D"),i=v(this.$d.hours,"H"),r=v(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var o=v(a,"S"),l=t.negative||e.negative||s.negative||i.negative||r.negative||o.negative,c=i.format||r.format||o.format?"T":"",m=(l?"-":"")+"P"+t.format+e.format+s.format+c+i.format+r.format+o.format;return"P"===m||"-P"===m?"P0D":m},_.toJSON=function(){return this.toISOString()},_.format=function(t){var n=t||"YYYY-MM-DDTHH:mm:ss",s={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return n.replace(a,(function(t,e){return e||String(s[t])}))},_.as=function(t){return this.$ms/m[f(t)]},_.get=function(t){var e=this.$ms,n=f(t);return"milliseconds"===n?e%=1e3:e="weeks"===n?p(e/m[n]):this.$d[n],0===e?0:e},_.add=function(t,e,n){var s;return s=e?t*m[f(e)]:u(t)?t.$ms:d(t,this).$ms,d(this.$ms+s*(n?-1:1),this)},_.subtract=function(t,e){return this.add(t,e,!0)},_.locale=function(t){var e=this.clone();return e.$l=t,e},_.clone=function(){return d(this.$ms,this)},_.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},_.milliseconds=function(){return this.get("milliseconds")},_.asMilliseconds=function(){return this.as("milliseconds")},_.seconds=function(){return this.get("seconds")},_.asSeconds=function(){return this.as("seconds")},_.minutes=function(){return this.get("minutes")},_.asMinutes=function(){return this.as("minutes")},_.hours=function(){return this.get("hours")},_.asHours=function(){return this.as("hours")},_.days=function(){return this.get("days")},_.asDays=function(){return this.as("days")},_.weeks=function(){return this.get("weeks")},_.asWeeks=function(){return this.as("weeks")},_.months=function(){return this.get("months")},_.asMonths=function(){return this.as("months")},_.years=function(){return this.get("years")},_.asYears=function(){return this.as("years")},h}();return function(n,s,i){t=i,e=i().$utils(),i.duration=function(t,e){var n=i.locale();return d(t,{$l:n},e)},i.isDuration=u;var r=s.prototype.add,a=s.prototype.subtract;s.prototype.add=function(t,e){return u(t)&&(t=t.asMilliseconds()),r.bind(this)(t,e)},s.prototype.subtract=function(t,e){return u(t)&&(t=t.asMilliseconds()),a.bind(this)(t,e)}}}()},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},a=[],o=0;o<t.length;o++){var l=t[o],c=s.base?l[0]+s.base:l[0],m=r[c]||0,u="".concat(c," ").concat(m);r[c]=m+1;var d=n(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=i(f,s);s.byIndex=o,e.splice(o,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var o=n(r[a]);e[o].references--}for(var l=s(t,i),c=0;c<r.length;c++){var m=n(r[c]);0===e[m].references&&(e[m].updater(),e.splice(m,1))}r=l}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";var t=n(379),e=n.n(t),s=n(795),i=n.n(s),r=n(569),a=n.n(r),o=n(565),l=n.n(o),c=n(216),m=n.n(c),u=n(589),d=n.n(u),f=n(10),h={};h.styleTagTransform=d(),h.setAttributes=l(),h.insert=a().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=m(),e()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const p="shake";class _{#t=null;_callback={};constructor(){if(new.target===_)throw new Error("Can't instantiate AbstractView, only concrete one.")}get element(){return this.#t||(this.#t=g(this.template)),this.#t}get template(){throw new Error("Abstract method not implemented: get template")}removeElement(){this.#t=null}shake(t){this.element.classList.add(p),setTimeout((()=>{this.element.classList.remove(p),t?.()}),600)}}const v="beforeend",g=t=>{const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild},$=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;if(!(t instanceof _))throw new Error("Can render only components");if(null===e)throw new Error("Container element doesn't exist");e.insertAdjacentElement(n,t.element)},y=t=>{if(null!==t){if(!(t instanceof _))throw new Error("Can remove only components");t.element.remove(),t.removeElement()}};class b extends _{get template(){return'<ul class="sort">\n        <li><a href="#" class="sort__button sort__button--active">Sort by default</a></li>\n        <li><a href="#" class="sort__button">Sort by date</a></li>\n        <li><a href="#" class="sort__button">Sort by rating</a></li>\n      </ul>'}}class w extends _{get template(){return'<section class="films"></section>'}}class M extends _{get template(){return'<section class="films-list">\n        <h2 class="films-list__title visually-hidden">All movies. Upcoming</h2>\n        <div class="films-list__container"></div>\n      </section>'}}var C=n(484),S=n.n(C),D=n(646),k=n.n(D);S().extend(k());class A extends _{#e=null;constructor(t){super(),this.#e=t}get template(){const{comments:t,filmInfo:e,userDetails:n}=this.#e;return`<article class="film-card">\n        <a class="film-card__link">\n          <h3 class="film-card__title">${e.title}</h3>\n          <p class="film-card__rating">${e.totalRating}</p>\n          <p class="film-card__info">\n            <span class="film-card__year">${S()(e.release.date).format("YYYY")}</span>\n            <span class="film-card__duration">${S().duration({minutes:e.runtime}).format("mm")} minutes</span>\n            <span class="film-card__genre">${e.genre}</span>\n          </p>\n          <img src="${e.poster}" alt="" class="film-card__poster">\n          <p class="film-card__description">${e.description}</p>\n          <span class="film-card__comments">${t.length} comments</span>\n        </a>\n        <div class="film-card__controls">\n          <button class="film-card__controls-item ${n.watchlist?"film-card__controls-item--active":""} film-card__controls-item--add-to-watchlist" type="button">Add to watchlist</button>\n          <button class="film-card__controls-item ${n.alreadyWatched?"film-card__controls-item--active":""} film-card__controls-item--mark-as-watched" type="button">Mark as watched</button>\n          <button class="film-card__controls-item ${n.favorite?"film-card__controls-item--active":""} film-card__controls-item--favorite" type="button">Mark as favorite</button>\n        </div>\n      </article>`}setOpenPopupHandler=t=>{this._callback.click=t,this.element.addEventListener("click",this.#n)};#n=t=>{t.preventDefault(),this._callback.click()}}class x extends _{get template(){return'<button class="films-list__show-more">Show more</button>'}setClickHandler=t=>{this._callback.click=t,this.element.addEventListener("click",this.#s)};#s=t=>{t.preventDefault(),this._callback.click()}}class j extends _{get template(){return'<section class="films-list films-list--extra">\n        <h2 class="films-list__title">Top rated</h2>\n        <div class="films-list__container"></div>\n      </section>'}}class E extends _{get template(){return'<section class="films-list films-list--extra">\n        <h2 class="films-list__title">Most commented</h2>\n        <div class="films-list__container"></div>\n      </section>'}}class H extends _{#e=null;#i=null;constructor(t,e){super(),this.#e=t,this.#i=e}get template(){const{comments:t,filmInfo:e,userDetails:n}=this.#e;return`<section class="film-details">\n        <div class="film-details__inner">\n          <div class="film-details__top-container">\n            <div class="film-details__close">\n              <button class="film-details__close-btn" type="button">close</button>\n            </div>\n            <div class="film-details__info-wrap">\n              <div class="film-details__poster">\n                <img class="film-details__poster-img" src="${e.poster}" alt="">\n      \n                <p class="film-details__age">${e.ageRating}+</p>\n              </div>\n      \n              <div class="film-details__info">\n                <div class="film-details__info-head">\n                  <div class="film-details__title-wrap">\n                    <h3 class="film-details__title">${e.title}</h3>\n                    <p class="film-details__title-original">Original: ${e.alternativeTitle}</p>\n                  </div>\n      \n                  <div class="film-details__rating">\n                    <p class="film-details__total-rating">${e.totalRating}</p>\n                  </div>\n                </div>\n      \n                <table class="film-details__table">\n                  <tr class="film-details__row">\n                    <td class="film-details__term">Director</td>\n                    <td class="film-details__cell">${e.director}</td>\n                  </tr>\n                  <tr class="film-details__row">\n                    <td class="film-details__term">Writers</td>\n                    <td class="film-details__cell">${e.writers}</td>\n                  </tr>\n                  <tr class="film-details__row">\n                    <td class="film-details__term">Actors</td>\n                    <td class="film-details__cell">${e.actors}</td>\n                  </tr>\n                  <tr class="film-details__row">\n                    <td class="film-details__term">Release Date</td>\n                    <td class="film-details__cell">${S()(e.release.date).format("DD MMMM YYYY")}</td>\n                  </tr>\n                  <tr class="film-details__row">\n                    <td class="film-details__term">Runtime</td>\n                    <td class="film-details__cell">${e.runtime} minutes</td>\n                  </tr>\n                  <tr class="film-details__row">\n                    <td class="film-details__term">Country</td>\n                    <td class="film-details__cell">${e.release.releaseCountry}</td>\n                  </tr>\n                  <tr class="film-details__row">\n                    <td class="film-details__term">Genres</td>\n                    <td class="film-details__cell">\n                      ${(t=>{let e="";for(let n=0;n<t.length;n++)e+=`<span class="film-details__genre">${t[n]}</span>`;return e})(e.genre)}\n                    </td>\n                  </tr>\n                </table>\n      \n                <p class="film-details__film-description">\n                  ${e.description}\n                </p>\n              </div>\n            </div>\n      \n            <section class="film-details__controls">\n              <button type="button" class="film-details__control-button ${n.watchlist?"film-details__control-button--active":""} film-details__control-button--watchlist" id="watchlist" name="watchlist">Add to watchlist</button>\n              <button type="button" class="film-details__control-button ${n.alreadyWatched?"film-details__control-button--active":""} film-details__control-button--watched" id="watched" name="watched">Already watched</button>\n              <button type="button" class="film-details__control-button ${n.favorite?"film-details__control-button--active":""} film-details__control-button--favorite" id="favorite" name="favorite">Add to favorites</button>\n            </section>\n          </div>\n      \n          <div class="film-details__bottom-container">\n            <section class="film-details__comments-wrap">\n              <h3 class="film-details__comments-title">Comments <span class="film-details__comments-count">${t.length}</span></h3>\n      \n              <ul class="film-details__comments-list">\n                ${((t,e)=>{let n="";for(const s of e)t.includes(s.id)&&(n+=`<li class="film-details__comment">\n          <span class="film-details__comment-emoji">\n            <img src="./images/emoji/${s.emotion}.png" width="55" height="55" alt="emoji-${s.emotion}">\n          </span>\n          <div>\n            <p class="film-details__comment-text">${s.comment}</p>\n            <p class="film-details__comment-info">\n              <span class="film-details__comment-author">${s.author}</span>\n              <span class="film-details__comment-day">${S()(s.date).format("YYYY/MM/DD HH:mm")}</span>\n              <button class="film-details__comment-delete">Delete</button>\n            </p>\n          </div>\n        </li>`);return n})(t,this.#i)}\n              </ul>\n      \n              <form class="film-details__new-comment" action="" method="get">\n                <div class="film-details__add-emoji-label"></div>\n      \n                <label class="film-details__comment-label">\n                  <textarea class="film-details__comment-input" placeholder="Select reaction below and write comment here" name="comment"></textarea>\n                </label>\n      \n                <div class="film-details__emoji-list">\n                  <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-smile" value="smile">\n                  <label class="film-details__emoji-label" for="emoji-smile">\n                    <img src="./images/emoji/smile.png" width="30" height="30" alt="emoji">\n                  </label>\n      \n                  <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-sleeping" value="sleeping">\n                  <label class="film-details__emoji-label" for="emoji-sleeping">\n                    <img src="./images/emoji/sleeping.png" width="30" height="30" alt="emoji">\n                  </label>\n      \n                  <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-puke" value="puke">\n                  <label class="film-details__emoji-label" for="emoji-puke">\n                    <img src="./images/emoji/puke.png" width="30" height="30" alt="emoji">\n                  </label>\n      \n                  <input class="film-details__emoji-item visually-hidden" name="comment-emoji" type="radio" id="emoji-angry" value="angry">\n                  <label class="film-details__emoji-label" for="emoji-angry">\n                    <img src="./images/emoji/angry.png" width="30" height="30" alt="emoji">\n                  </label>\n                </div>\n              </form>\n            </section>\n          </div>\n        </div>\n      </section>`}setClosePopupHandler=t=>{this._callback.click=t,this.element.querySelector(".film-details__close-btn").addEventListener("click",this.#r)};#r=t=>{t.preventDefault(),this._callback.click()}}class L extends _{get template(){return'<h2 class="films-list__title">There are no movies in our database</h2>'}}const Y=(t,e)=>Math.floor(Math.random()*(e+1-t))+t,O=(t,e)=>{const n=(Math.random()*(e+1-t)+t).toFixed(1);return n<=e?n:O(t,e)},T=["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Cras aliquet varius magna, non porta ligula feugiat eget.","Fusce tristique felis at fermentum pharetra.","Aliquam id orci ut lectus varius viverra.","Nullam nunc ex, convallis sed finibus eget, sollicitudin eget ante.","Phasellus eros mauris, condimentum sed nibh vitae, sodales efficitur ipsum.","Sed blandit, eros vel aliquam faucibus, purus ex euismod diam, eu luctus nunc ante ut dui.","Sed sed nisi sed augue convallis suscipit in sed felis.","Aliquam erat volutpat. Nunc fermentum tortor ac porta dapibus.","In rutrum ac purus sit amet tempus."],F=["Ilya O'Reilly","Matthew Coh","Kendy Wine","Josh Harris","Nerf Jamile"],I=()=>{const t=["smile","sleeping","puke","angry"];return t[Y(0,t.length-1)]},B=()=>{const t=[];for(let e=0;e<Y(0,5);e++)t.push(Y(1,49));return t},P=()=>{const t=Y(0,6);return 0===t||1===t?`./images/posters/${t}.png`:`./images/posters/${t}.jpg`},W=()=>{const t=[];for(let e=0;e<3;e++)t.push(F[Y(0,F.length-1)]);return t},q=()=>{const t=["Finland","Russia","USA","China","Japan","Korea","France","Norway"];return t[Y(0,t.length-1)]},N=()=>{const t=["Comedy","Triller","Horror","Drama","Fantastic"],e=[];for(let n=0;n<Y(1,3);n++)e.push(t[Y(0,t.length-1)]);return e},R=()=>{let t="";for(let e=0;e<Y(1,5);e++)t+=T[Y(0,T.length-1)];return t};let U=0;const J=()=>{const t=Boolean(Y(0,1));return U++,{id:U,comments:B(),filmInfo:{title:T[Y(0,T.length-1)],alternativeTitle:T[Y(0,T.length-1)],totalRating:O(0,10),poster:P(),ageRating:Y(0,18),director:F[Y(0,F.length-1)],writers:W(),actors:W(),release:{date:S()().subtract(Y(0,40),"year").subtract(Y(0,12),"month").subtract(Y(0,34),"day").format(),releaseCountry:q()},runtime:Y(40,180),genre:N(),description:R()},userDetails:{watchlist:Boolean(Y(0,1)),alreadyWatched:t,watchingDate:t?S()().subtract(Y(0,3),"year").subtract(Y(0,12),"month").subtract(Y(0,34),"day").format():"",favorite:Boolean(Y(0,1))}}},Z=document.querySelector(".header"),z=document.querySelector(".footer__statistics"),X=document.querySelector(".main"),V=new class{#a=Array.from({length:33},J);get films(){return this.#a}},K=new class{#o=(()=>{const t=[];for(let e=1;e<50;e++)t.push({id:e,author:F[Y(0,F.length-1)],comment:T[Y(0,T.length-1)],date:S()().format(),emotion:I()});return t})();get comments(){return this.#o}},G=new class{#l=null;#c=null;#m=null;#u=null;#d=null;#f=new w;#h=new M;#p=new j;#_=new E;#v=new x;#g=5;constructor(t,e,n){this.#l=t,this.#c=e.films,this.#m=e.films,this.#u=e.films,this.#d=n.comments}init=()=>{this.#$()};#y=(t,e)=>{const n=new A(t),s=new H(t,this.#d);$(n,e);const i=()=>{document.removeEventListener("keydown",r),y(s),document.body.classList.remove("hide-overflow")},r=t=>{"Escape"!==t.key&&"Esc"!==t.key||(document.removeEventListener("keydown",r),i())};n.setOpenPopupHandler((()=>{document.body.append(s.element),document.body.classList.add("hide-overflow"),document.addEventListener("keydown",r)})),s.setClosePopupHandler(i)};#b=()=>{this.#c.slice(this.#g,this.#g+5).forEach((t=>this.#y(t,this.#h.element.querySelector(".films-list__container")))),this.#g+=5,this.#g>=this.#c.length&&y(this.#v)};#$=()=>{if($(this.#f,this.#l),$(this.#h,this.#f.element),!this.#c.length)return this.#h.element.replaceChildren(),void this.#h.element.append((new L).element);$(new b,this.#l);for(let t=0;t<Math.min(this.#c.length,5);t++)this.#y(this.#c[t],this.#h.element.querySelector(".films-list__container"));this.#c.length>5&&($(this.#v,this.#h.element),this.#v.setClickHandler(this.#b)),$(this.#p,this.#f.element),$(this.#_,this.#f.element);for(let t=0;t<2;t++)this.#y(this.#m[t],this.#p.element.querySelector(".films-list__container")),this.#y(this.#u[t],this.#_.element.querySelector(".films-list__container"))}}(X,V,K);$(new class extends _{get template(){return'<section class="header__profile profile">\n        <p class="profile__rating">Movie Buff</p>\n        <img class="profile__avatar" src="images/bitmap@2x.png" alt="Avatar" width="35" height="35">\n      </section>'}},Z),$(new class extends _{get template(){return"<p>130 291 movies inside</p>"}},z),$(new class extends _{get template(){return'<nav class="main-navigation">\n        <a href="#all" class="main-navigation__item main-navigation__item--active">All movies</a>\n        <a href="#watchlist" class="main-navigation__item">Watchlist <span class="main-navigation__item-count">13</span></a>\n        <a href="#history" class="main-navigation__item">History <span class="main-navigation__item-count">4</span></a>\n        <a href="#favorites" class="main-navigation__item">Favorites <span class="main-navigation__item-count">8</span></a>\n      </nav>'}},X),G.init()})()})();
//# sourceMappingURL=bundle.js.map